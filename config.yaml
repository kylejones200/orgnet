# Organizational Network Analysis Configuration

# Data Sources
data_sources:
  email:
    enabled: true
    provider: "exchange"  # exchange, gmail
    format: "auto"  # csv, maildir, or auto (auto-detect)
    retention_days: 90
    # Column mapping: map standard names to your CSV column names
    # column_mapping:
    #   sender_id: "from_email"
    #   receiver_id: "to_email"
    #   timestamp: "date"
    
  slack:
    enabled: true
    retention_days: 90
    # column_mapping:
    #   sender_id: "user"
    #   receiver_id: "channel"
    #   timestamp: "ts"
    
  teams:
    enabled: true
    retention_days: 90
    
  calendar:
    enabled: true
    retention_days: 90
    
  documents:
    enabled: true
    providers: ["sharepoint", "google_drive", "confluence"]
    retention_days: 90
    
  code:
    enabled: true
    providers: ["github", "gitlab", "bitbucket"]
    retention_days: 90
    
  hris:
    enabled: true
    provider: "workday"  # workday, bamboo, custom
    # column_mapping:
    #   person_id: "employee_id"
    #   department: "dept"
    #   manager_id: "manager"

# Graph Construction
graph:
  # Edge weight scheme: "pure_count", "time_decay", "role_based", or "composite"
  # - pure_count: Simple interaction count
  # - time_decay: Exponential decay based on recency
  # - role_based: Weighted by organizational roles
  # - composite: Combines recency, reciprocity, and responsiveness (default)
  weight_scheme: "composite"
  
  # Edge weight parameters (for composite scheme)
  recency_decay_lambda: 0.1
  reciprocity_weight: 0.5
  responsiveness_weight: 0.3
  
  # Role-based weights (for role_based scheme)
  role_weights:
    manager: 1.5
    engineer: 1.0
    product_manager: 1.2
    designer: 0.9
    sales: 1.1
    default: 1.0
  
  # Layer fusion weights
  layer_weights:
    communication: 0.4
    collaboration: 0.3
    meeting: 0.2
    code: 0.1
  
  # Temporal settings
  snapshot_interval_days: 7
  min_edge_weight: 0.01

# Analysis Settings
analysis:
  # Centrality metrics
  centrality:
    compute_all: true
    top_n: 20
    
  # Community detection
  community:
    method: "louvain"  # louvain, infomap, label_propagation, sbm
    resolution: 1.0
    
  # NLP
  nlp:
    topic_model: "bertopic"  # lda, bertopic
    num_topics: 20
    min_topic_size: 10
    
  # Temporal
  temporal:
    change_point_method: "pelt"
    onboarding_window_days: 90

# Privacy & Ethics
privacy:
  anonymize_individuals: false
  aggregate_before_storage: true
  retention_days: 90
  min_group_size: 5  # Don't show groups smaller than this

# Visualization
visualization:
  max_nodes_display: 500
  layout: "force_directed"  # force_directed, hierarchical, circular
  color_by: "department"
  size_by: "betweenness"

# API Settings
api:
  host: "0.0.0.0"
  port: 5000
  debug: false
  cors_enabled: true

